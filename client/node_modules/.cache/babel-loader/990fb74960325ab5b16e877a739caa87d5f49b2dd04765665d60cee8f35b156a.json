{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[posts,setPosts]=useState([]);const[error,setError]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchPosts=async()=>{try{// Use environment variable with fallback\nconst apiUrl=process.env.REACT_APP_API_URL||'http://localhost:5000/api/posts';const response=await fetch(apiUrl);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();setPosts(data);}catch(error){console.error('Fetch error:',error);setError(error.message);}finally{setLoading(false);}};fetchPosts();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All Posts\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading posts...\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Error loading posts: \",error]}),/*#__PURE__*/_jsx(\"p\",{children:\"Please check your server connection\"})]}),!loading&&!error&&/*#__PURE__*/_jsx(\"ul\",{children:posts.length>0?posts.map(post=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.content})]},post.id||post._id)):/*#__PURE__*/_jsx(\"p\",{children:\"No posts found\"})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","posts","setPosts","error","setError","loading","setLoading","fetchPosts","apiUrl","process","env","REACT_APP_API_URL","response","fetch","ok","Error","status","data","json","console","message","className","children","length","map","post","title","content","id","_id"],"sources":["C:/Users/USER/Desktop/week-7-devops-deployment-assignment-Nedcarol/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nfunction App() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        // Use environment variable with fallback\r\n        const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5000/api/posts';\r\n        const response = await fetch(apiUrl);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        setPosts(data);\r\n      } catch (error) {\r\n        console.error('Fetch error:', error);\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>All Posts</h1>\r\n      \r\n      {loading && <p>Loading posts...</p>}\r\n      \r\n      {error && (\r\n        <div className=\"error\">\r\n          <p>Error loading posts: {error}</p>\r\n          <p>Please check your server connection</p>\r\n        </div>\r\n      )}\r\n      \r\n      {!loading && !error && (\r\n        <ul>\r\n          {posts.length > 0 ? (\r\n            posts.map(post => (\r\n              <li key={post.id || post._id}>\r\n                <h2>{post.title}</h2>\r\n                <p>{post.content}</p>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <p>No posts found</p>\r\n          )}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF;AACA,KAAM,CAAAC,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,iCAAiC,CACjF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,MAAM,CAAC,CAEpC,GAAI,CAACI,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,uBAAuBH,QAAQ,CAACI,MAAM,EAAE,CAAC,CAC3D,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClChB,QAAQ,CAACe,IAAI,CAAC,CAChB,CAAE,MAAOd,KAAK,CAAE,CACdgB,OAAO,CAAChB,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACpCC,QAAQ,CAACD,KAAK,CAACiB,OAAO,CAAC,CACzB,CAAC,OAAS,CACRd,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDC,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACER,KAAA,QAAKsB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBzB,IAAA,OAAAyB,QAAA,CAAI,WAAS,CAAI,CAAC,CAEjBjB,OAAO,eAAIR,IAAA,MAAAyB,QAAA,CAAG,kBAAgB,CAAG,CAAC,CAElCnB,KAAK,eACJJ,KAAA,QAAKsB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpBvB,KAAA,MAAAuB,QAAA,EAAG,uBAAqB,CAACnB,KAAK,EAAI,CAAC,cACnCN,IAAA,MAAAyB,QAAA,CAAG,qCAAmC,CAAG,CAAC,EACvC,CACN,CAEA,CAACjB,OAAO,EAAI,CAACF,KAAK,eACjBN,IAAA,OAAAyB,QAAA,CACGrB,KAAK,CAACsB,MAAM,CAAG,CAAC,CACftB,KAAK,CAACuB,GAAG,CAACC,IAAI,eACZ1B,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAKG,IAAI,CAACC,KAAK,CAAK,CAAC,cACrB7B,IAAA,MAAAyB,QAAA,CAAIG,IAAI,CAACE,OAAO,CAAI,CAAC,GAFdF,IAAI,CAACG,EAAE,EAAIH,IAAI,CAACI,GAGrB,CACL,CAAC,cAEFhC,IAAA,MAAAyB,QAAA,CAAG,gBAAc,CAAG,CACrB,CACC,CACL,EACE,CAAC,CAEV,CAEA,cAAe,CAAAtB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}